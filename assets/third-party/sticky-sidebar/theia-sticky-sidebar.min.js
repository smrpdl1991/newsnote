/*!

 * Theia Sticky Sidebar v1.7.0

 * https://github.com/WeCodePixels/theia-sticky-sidebar

 *

 * Glues your website's sidebars, making them permanently visible while scrolling.

 *

 * Copyright 2013-2016 WeCodePixels and other contributors

 * Released under the MIT license

 */
!function(x){x.fn.theiaStickySidebar=function(i){function s(i,t){return!0===i.initialized||!(x("body").width()<i.minWidth)&&(function e(k,i){k.initialized=!0,0===x("#theia-sticky-sidebar-stylesheet-"+k.namespace).length&&x("head").append(x('<style id="theia-sticky-sidebar-stylesheet-'+k.namespace+'">.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>'));i.each(function(){var i={};if(i.sidebar=x(this),i.options=k||{},i.container=x(i.options.containerSelector),0==i.container.length&&(i.container=i.sidebar.parent()),i.sidebar.parents().css("-webkit-transform","none"),i.sidebar.css({position:i.options.defaultPosition,overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),i.stickySidebar=i.sidebar.find(".theiaStickySidebar"),0==i.stickySidebar.length){var e=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;i.sidebar.find("script").filter(function(i,t){return 0===t.type.length||t.type.match(e)}).remove(),i.stickySidebar=x("<div>").addClass("theiaStickySidebar").append(i.sidebar.children()),i.sidebar.append(i.stickySidebar)}i.marginBottom=parseInt(i.sidebar.css("margin-bottom")),i.paddingTop=parseInt(i.sidebar.css("padding-top")),i.paddingBottom=parseInt(i.sidebar.css("padding-bottom"));var t,o,a,n=i.stickySidebar.offset().top,s=i.stickySidebar.outerHeight();function u(){i.fixedScrollTop=0,i.sidebar.css({"min-height":"1px"}),i.stickySidebar.css({position:"static",width:"",transform:"none"})}i.stickySidebar.css("padding-top",1),i.stickySidebar.css("padding-bottom",1),n-=i.stickySidebar.offset().top,s=i.stickySidebar.outerHeight()-s-n,0==n?(i.stickySidebar.css("padding-top",0),i.stickySidebarPaddingTop=0):i.stickySidebarPaddingTop=1,0==s?(i.stickySidebar.css("padding-bottom",0),i.stickySidebarPaddingBottom=0):i.stickySidebarPaddingBottom=1,i.previousScrollTop=null,i.fixedScrollTop=0,u(),i.onScroll=function(i){if(i.stickySidebar.is(":visible"))if(x("body").width()<i.options.minWidth)u();else{if(i.options.disableOnResponsiveLayouts){var t=i.sidebar.outerWidth("none"==i.sidebar.css("float"));if(t+50>i.container.width())return void u()}var e=x(document).scrollTop(),o="static";if(e>=i.sidebar.offset().top+(i.paddingTop-i.options.additionalMarginTop)){var a,n=i.paddingTop+k.additionalMarginTop,s=i.paddingBottom+i.marginBottom+k.additionalMarginBottom,d=i.sidebar.offset().top,r=i.sidebar.offset().top+function y(i){var t=i.height();return i.children().each(function(){t=Math.max(t,x(this).height())}),t}(i.container),c=0+k.additionalMarginTop,p=i.stickySidebar.outerHeight()+n+s<x(window).height();a=p?c+i.stickySidebar.outerHeight():x(window).height()-i.marginBottom-i.paddingBottom-k.additionalMarginBottom;var b=d-e+i.paddingTop,l=r-e-i.paddingBottom-i.marginBottom,h=i.stickySidebar.offset().top-e,f=i.previousScrollTop-e;"fixed"==i.stickySidebar.css("position")&&"modern"==i.options.sidebarBehavior&&(h+=f),"stick-to-top"==i.options.sidebarBehavior&&(h=k.additionalMarginTop),"stick-to-bottom"==i.options.sidebarBehavior&&(h=a-i.stickySidebar.outerHeight()),h=0<f?Math.min(h,c):Math.max(h,a-i.stickySidebar.outerHeight()),h=Math.max(h,b),h=Math.min(h,l-i.stickySidebar.outerHeight());var g=i.container.height()==i.stickySidebar.outerHeight();o=(g||h!=c)&&(g||h!=a-i.stickySidebar.outerHeight())?e+h-i.sidebar.offset().top-i.paddingTop<=k.additionalMarginTop?"static":"absolute":"fixed"}if("fixed"==o){var S=x(document).scrollLeft();i.stickySidebar.css({position:"fixed",width:v(i.stickySidebar)+"px",transform:"translateY("+h+"px)",left:i.sidebar.offset().left+parseInt(i.sidebar.css("padding-left"))-S+"px",top:"0px"})}else if("absolute"==o){var m={};"absolute"!=i.stickySidebar.css("position")&&(m.position="absolute",m.transform="translateY("+(e+h-i.sidebar.offset().top-i.stickySidebarPaddingTop-i.stickySidebarPaddingBottom)+"px)",m.top="0px"),m.width=v(i.stickySidebar)+"px",m.left="",i.stickySidebar.css(m)}else"static"==o&&u();"static"!=o&&1==i.options.updateSidebarHeight&&i.sidebar.css({"min-height":i.stickySidebar.outerHeight()+i.stickySidebar.offset().top-i.sidebar.offset().top+i.paddingBottom}),i.previousScrollTop=e}},i.onScroll(i),x(document).on("scroll."+i.options.namespace,(t=i,function(){t.onScroll(t)})),x(window).on("resize."+i.options.namespace,(o=i,function(){o.stickySidebar.css({position:"static"}),o.onScroll(o)})),"undefined"!=typeof ResizeSensor&&new ResizeSensor(i.stickySidebar[0],(a=i,function(){a.onScroll(a)}))})}(i,t),!0)}function v(i){var t;try{t=i[0].getBoundingClientRect().width}catch(e){}return void 0===t&&(t=i.width()),t}return(i=x.extend({containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:0,disableOnResponsiveLayouts:!0,sidebarBehavior:"modern",defaultPosition:"relative",namespace:"TSS"},i)).additionalMarginTop=parseInt(i.additionalMarginTop)||0,i.additionalMarginBottom=parseInt(i.additionalMarginBottom)||0,function d(i,t){s(i,t)||(console.log("TSS: Body width smaller than options.minWidth. Init is delayed."),x(document).on("scroll."+i.namespace,(a=i,n=t,function(i){var t=s(a,n);t&&x(this).unbind(i)})),x(window).on("resize."+i.namespace,(e=i,o=t,function(i){var t=s(e,o);t&&x(this).unbind(i)})));var e,o;var a,n}(i,this),this}}(jQuery);